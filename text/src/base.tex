\documentclass[a4paper, 14pt, titlepage]{extarticle}
  \usepackage{cmap}
  \usepackage[hidelinks,pdftex,unicode]{hyperref}
  \usepackage{mathtext} % для кириллицы в формулах
  \usepackage[T2A]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage[english,russian]{babel}
  \usepackage{indentfirst}
  \usepackage{cite}
  \usepackage{amsmath} % для \eqref
  \usepackage{amssymb} % для \leqslant
  \usepackage{amsthm} % для \pushQED
  \usepackage[usenames,dvipsnames]{xcolor}
  \usepackage[pdftex]{graphicx}
  \usepackage{subfig}
  \usepackage{numprint}
  \usepackage[left=30mm,right=15mm,top=20mm,bottom=20mm,bindingoffset=0cm]{geometry}
  \usepackage{datetime}
  \usepackage{setspace} % для иных отступов в tikz-картинках
  \usepackage{tikz}
    \usetikzlibrary{positioning,fit,shapes,calc}
  \usepackage[babel,protrusion=true,expansion]{microtype}
  \usepackage{nameref}
  \graphicspath{{../img/}{../../img/}}
  \frenchspacing

  \DeclareSymbolFont{T2Aletters}{T2A}{cmr}{m}{it} % кириллица в формулах курсивом

  \addto\captionsrussian{
    \renewcommand\contentsname{Содержание}
    % перекрываю \refname, чтобы список литературы сам добавлял себя в оглавление
    \let\oldrefname\refname
    \renewcommand\refname{\addcontentsline{toc}{section}{\oldrefname}\oldrefname}
  }

  % Ненумерованный section, но добавленный в оглавление
  \newcommand\sectiontoc[1]{\section*{#1}\addcontentsline{toc}{section}{#1}}

  \newcommand{\underscore}[1]{\hbox to#1{\hrulefill}}
  \newcommand{\todo}[1]{\textbf{\textcolor{red}{TODO: #1}}}
  \newcommand{\note}[1]{\textit{Примечание: #1}}
  \newcommand{\eng}[1]{\foreignlanguage{english}{#1}}

  % выделение термина в определении (и не только)
  \newcommand{\term}[1]{\emph{#1}}

  % обёртка с моими настройками поверх figure:
  % \begin{myfigure}{подпись}{fig:label} ... \end{myfigure}
  \newenvironment{myfigure}[2]%
    {\pushQED{\caption{#1} \label{#2}} % push caption & label
     \begin{figure}[!htb]\centering } %
    {  \popQED % pop caption & label
     \end{figure}}

  % вставка картинки: \figure[params]{подпись}{file}
  % создаёт label вида fig:file
  \newcommand{\includefigure}[3][]{
    \begin{myfigure}{#2}{fig:#3}
      \includegraphics[#1]{#3}
    \end{myfigure}
  }

  % вставка subfigure внутри myfigure:
  % \subfigure[params]{подпись}{file}
  \newcommand{\subfigure}[3][]{
    \subfloat[#2]{\label{fig:#3}\includegraphics[#1]{#3}}
  }

  \renewcommand{\le}{\leqslant} % <= с наклонной нижней перекладиной
  \renewcommand{\ge}{\geqslant} % >= с наклонной нижней перекладиной

  \linespread{1.3}

  % русские буквы для списков и частей рисунка
  \renewcommand{\theenumii}{(\asbuk{enumii})}
  \renewcommand{\labelenumii}{\asbuk{enumii})}
  \renewcommand{\thesubfigure}{\asbuk{subfigure}}

  % разделы с новой страницы
  \let\oldsection\section
  \renewcommand{\section}{\newpage\oldsection}

  \setcounter{tocdepth}{3} % глубина оглавления

  \hyphenation{англ} % убрать перенос в этом сокращении

  % алиас и настройки для numprint
  \newcommand{\num}[1]{\numprint{#1}}
  \npthousandsep{\,}
  \npthousandthpartsep{}
  \npdecimalsign{,}

  \newcommand{\checkdate}[3]{(дата обращения: \formatdate{#1}{#2}{#3})}

  \newcommand{\thetitle}{Создание универсальной информационной системы обработки экспериментальных данных}
  \newcommand{\theauthor}{Иван Новиков}

  \author{\theauthor, кафедра физики и информационных систем КубГУ}
  \title{\thetitle}

  \hypersetup{
    pdfinfo={
      Title = {\thetitle},
      Author = {\theauthor},
      Subject = {}
    }
  }

\begin{document}

%----------------------- титульный лист ------------------------

  \thispagestyle{empty}
  \begin {center}
  \small{МИНИСТЕРСТВО ОБРАЗОВАНИЯ И НАУКИ РОССИЙСКОЙ ФЕДЕРАЦИИ}\\
  Федеральное государственное бюджетное образовательное учреждение\\
  высшего профессионального образования\\
  «КУБАНСКИЙ ГОСУДАРСТВЕННЫЙ УНИВЕРСИТЕТ»\\
  (ФГБОУ ВПО «КубГУ»)

  Физико-технический факультет

  \vspace {1cm}

  Кафедра физики и информационных систем

  \vspace {1cm}

  \hfill
  \begin{minipage}{7cm}
    \begin{flushleft}
      Допустить к защите в ГАК\\
      \hspace*{0mm}\hrulefill{} 2014г.\\
      Заведующий кафедрой\\
      профессор, д-р физ.-мат. наук\\
      Н.\,М.\,Богатов \hrulefill{}\\
      ~\hrule
      \footnotesize{\centering (подпись, дата)\par}
    \end{flushleft}
  \end{minipage}

  \vspace {1.5cm}

  \textbf{МАГИСТЕРСКАЯ ДИССЕРТАЦИЯ}

  \vspace {0.5cm}

  \textbf{ \large \scshape \thetitle }

  \vspace {1.5cm}

  \begin{flushleft}
    Работу выполнил \hrulefill{}  (Новиков Иван Александрович)\\
    Направление магистерской подготовки 011200.68 Физика

    Руководитель магистерской программы <<Информационные процессы и системы>>\\
    профессор, д-р физ.-мат. наук \hrulefill{} (В.\,А.\,Исаев)

    Научный руководитель\\
    доцент, канд. физ.-мат. наук \hrulefill{} (Л.\,Р.\,Григорьян)

    Нормоконтролер\\
    доцент, канд. физ.-мат. наук \hrulefill{} (Л.\,Р.\,Григорьян)
  \end{flushleft}

  \vfill

  Краснодар~--- 2014~год
  \end {center}

%------------------------- содержание -------------------------

  \microtypesetup{protrusion=false} % отключить protrusion для содержания
    \clearpage
    \tableofcontents
  \microtypesetup{protrusion=true}

%-------------------------- введение --------------------------
  \sectiontoc{Введение}\label{sec:intro}

  В процессе производственной и познавательной деятельности возникает множество практических и
  теоретических задач, для решения которых необходимо располагать количественной информацией о том
  или ином свойстве объекта. Основным способом получения такой информации является процесс измерения.
  Измерения лежат в основе экспериментальной науки, как фундаментальной, так и прикладной. При этом
  в последнее время, в~связи с широким распространением цифровых технологий, точные измерения можно
  встретить не только в научной лаборатории, но и на производстве и в быту.
  Поэтому задача повышения эффективности и достоверности процессов измерения и обработки информации
  является актуальной.

  Усложнение технологий, применяемых на производстве, и развитие научных методов создаёт
  необходимость измерения и контроля многих параметров, вплоть до сотен и тысяч, а также
  выполнения большого числа измерений в единицу времени. Это привело к появлению нового класса
  измерительной техники~--- \term{измерительных информационных систем} \cite{rannev-iis,rannev-meas-tech},
  выполняющих задачи сбора, обработки, передачи, хранения и отображения информации.

  По мере усложнения задач, выполняемых системами измерения, возрастает как сложность самих систем,
  так и требования к их скорости, надёжности и функциональности. Возникает необходимость в
  автоматизации эксперимента, уменьшении человеческого фактора (ошибок, медленной реакции и~т.\,п.).
  \term{Автоматизация эксперимента}~--- комплекс
  средств и методов для ускорения сбора и обработки экспериментальный данных, интенсификации
  использования экспериментальных установок, повышения эффективности работы исследователей.
  Характерной особенностью автоматизации эксперимента является использование ЭВМ, что позволяет
  собирать, хранить и обрабатывать большое количество информации, управлять экспериментом в процессе
  его проведения, обслуживать одновременно несколько установок \cite{petronevich-automation,sokolov-auto-measure}.

  В настоящее время в измерительных информационных системах используются практически все типы
  серийно выпускаемых ЭВМ~--- от простейших настольных, переносных или встроенных персональных
  компьютеров до мощных рабочих станций и крупных вычислительных комплексов \cite[с.~149]{rannev-iis}.
  Чтобы применение ЭВМ действительно способствовало повышению эффективности измерений, к ЭВМ
  предъявляется важное требование: она должна работать в режиме \term{реального времени}
  \cite{tessier-reconfigurable}. В частности, недопустимы задержки отклика, которые могут приводить
  к потерям получаемых данных и некорректной привязке приходящих данных ко времени. С~другой
  стороны, увеличение точности по времени связано с увеличением частоты дискретизации, и, как
  следствие, количества обрабатываемых в единицу времени отсчётов данных. Это вынуждает либо искать
  компромисс между реальным временем и высокой пропускной способностью, либо повышать быстродействие
  ЭВМ, что включает в себя как использование более производительного аппаратного обеспечения, так и
  оптимизацию программного обеспечения.

  Помимо получения измерительных данных, ЭВМ также, в зависимости от решаемой задачи, может
  выполнять их преобразование, анализ, сохранение и визуальное представление, а также дальнейшую
  передачу по каналу связи. Из того, что эти процессы должны протекать одновременно и независимо,
  вытекает ещё одна особенность программного обеспечения для обработки измерительных данных~---
  необходимость использования \term{параллельных вычислений}. Это требование, как и требование
  быстродействия, влияет и на выбор аппаратного обеспечения, и на реализацию программного обеспечения.
  При этом важно понимать, что простое увеличение количества процессоров и использование
  многопоточности само по себе не гарантирует существенного ускорения работы программы. Возможность
  параллельного выполнения должна быть заложена в сам алгоритм, кроме того, требует осторожности
  работа с общими данными из нескольких потоков, чтобы избегать блокировок \cite{hoare-csp}.

  Системы автоматизированной обработки измерительных данных находят применение в различных отраслях науки,
  в том числе, в геофизике (регистрация землетрясений и поиск полезных ископаемых), радиофизике,
  ядерной физике, физике полупроводников и многих других. Кроме экспериментальной науки ИИС
  применяются для управления и контроля за технологическими процессами, в специализированной
  измерительной технике.

  Целью данной работы является разработка универсальной информационной системы обработки
  измерительных данных, то~есть специализированного программного обеспечения, предназначенного для
  выполнения на ЭВМ, являющейся частью некоторой ИИС, с целью эффективной автоматизации процесса
  обработки экспериментальных данных. Для достижения этой цели ставятся задачи, которые подробно
  описаны далее, в подразделе~\ref{ssec:task}.

  Объектом данного исследования являются экспериментальные данные и сигналы, используемые для их
  кодирования и передачи; а предметом исследования~--- способы повышения эффективности регистрации
  таких сигналов и обработки экспериментальных данных, в частности, измерительные информационные
  системы и применяемое в них программное обеспечение, а также алгоритмы обработки цифровых сигналов.

  \section{Измерительные информационные системы}\label{sec:iis}

  Конец XX~-- начало XXI в. характеризуются количественным и качественным развитием измерительных
  информационных систем во всем мире \cite[с.~3]{rannev-iis}. В наш век информационных
  технологий становится все более актуальной необходимость ИИС, так как они упрощают и облегчают доступ
  к необходимой информации, обеспечивают регулирование сложными технологическими процессами.

  \term{Измерительная информационная система (ИИС)}~--- это совокупность функционально объединённых
  измерительных, вычислительных и других вспомогательных технических средств для получения
  измерительной информации, её преобразования, обработки с целью представления потребителю в
  требуемом виде, либо автоматического осуществления логических функций контроля, диагностики,
  идентификации и других функций \cite[с.~9]{volkov-iis}.
  Необходимые функциональные возможности и технические характеристики ИИС определяются
  \term{объектом исследования}, для которого данная система создаётся.

  Далее будут даны определения основных связанных понятий и рассмотрены особенности применения
  измерительных информационных систем.

  \subsection{Предметная область ИИС}

  % TODO эти два абзаца лучше переформулировать своими словам (хотя бы частично)
  Как уже было сказано выше в~разделе \nameref{sec:intro}, измерения в настоящее время применяются
  во многих отраслях науки, производства и быта. Современные задачи и условия проведения научных
  экспериментов при исследовании явлений, процессов и веществ, а также испытательных экспериментов
  при исследовании образцов различной промышленной продукции связаны с необходимостью выполнения
  больших объёмов измерений разнообразных физических величин и технологических параметров.
  В~промышленности таких количество таких параметров может измеряться сотнями и тысячами.

  Стремление к достижению новых существенных результатов исследований, повышение сложности
  испытываемых машин и оборудования предъявляют все более жёсткие требования к измерительной
  аппаратуре по точности, достоверности результатов измерения, скорости выполнения экспериментов.
  Усложняется обработка полученных результатов измерений, которая проводится в реальном масштабе
  времени в соответствии с алгоритмом, изменяющимся в ходе эксперимента в зависимости от получаемой
  измерительной информации. Это приводит к значительному увеличению трудоёмкости и стоимости
  проведения измерительных процедур и эксперимента в целом, требует создания специальных
  измерительных информационных систем, автоматизированных систем научных исследований (АСНИ).
  Построение таких систем невозможно без широкого использования современной вычислительной техники,
  в первую очередь, ПЭВМ пятого поколения, оснащённых развитыми средствами связи с объектами
  исследования и управления.

  По сравнению с производственно-технологическими процессами научно-технический эксперимент имеет
  ряд особенностей, учёт которых необходим при проектировании ИИС и АСНИ. К таким особенностям
  относятся: разнотипность научно-технических экспериментов в сочетании с массовым характером их
  применения; относительная структурно-функциональная неустойчивость систем, необходимость
  обеспечения возможности сравнительно простой и быстрой перестройки конфигурации ИИС и АСНИ при
  изменении и усложнении методики исследования, наращивании функций; многочисленность датчиков и
  исполнительных органов, особенно в АСНИ лабораторного типа; широкий частотный спектр исследуемых
  сигналов~--- от единиц герц до десятков и сотен мегагерц. Для научно-технических экспериментов
  характерны значительные объёмы выборки измерительной информации, широкая кооперация при проведении
  научных исследований для решения крупных научно-технических проблем. При этом на обеспечение
  возможности объединения усилий многих разработчиков существенно влияет проблема системной
  совместимости различных компонентов АСНИ и ИИС \cite[с.~17]{rannev-iis}.

  Ниже приведены лишь некоторые основные понятия этой широкой предметной области.

  \term{Измерение}~--- нахождение значения физической величины опытным путём с помощью специальных
  технических средств; совокупность операций по применению технического средства, хранящего единицу
  физической величины, обеспечивающих нахождение соотношения (в явном или неявном виде) измеряемой
  величины с её единицей измерения и получение значения этой величины.
  \term{Физическая величина}~--- одно из свойств физического объекта (физической системы, явления
  или процесса), общее в качественном отношении для многих физических объектов, а в количественном
  отношении индивидуальное для каждого из них \cite[с.~7]{rannev-iis}.

  \term{Метод измерения}~--- это совокупность некоторых принципов и средств измерений для
  определения значения величин. Под \term{принципом измерения} понимают совокупность физических явлений, на
  которых основаны измерения, а под \term{средствами измерений}~--- технические средства, используемые при
  измерениях и имеющие нормированные метрологические свойства. Измерение предполагает сравнение
  исследуемой физической величины с однородной физической величиной, значение которой принято за
  единицу, и представление результата этого сравнения в виде числа. Измерение является
  многооперационной процедурой, и для его выполнения необходимо осуществление основных измерительных
  операций: воспроизведения, сравнения, измерительного преобразования и масштабирования.
  \term{Воспроизведение величины} заданного размера~--- это операция создания выходного сигнала с
  заданным размером информативного параметра. Она реализуется средством измерений~--- \term{мерой}.
  \term{Сравнение}~--- это определение соотношения между однородными величинами, осуществляемое
  путём их вычитания. Данная операция реализуется устройством сравнения или компаратором.
  \term{Измерительное преобразование}~--- операция преобразования входного сигнала в выходной,
  реализуемая измерительным преобразователем. Выходные сигналы измерительных преобразователей и их
  информативные параметры унифицированы.
  \term{Масштабирование}~--- это создание выходного сигнала, однородного с входным и
  пропорционального ему по размеру информативного параметра. Масштабное преобразование реализуется
  в устройстве, которое называется масштабным преобразователем \cite[с.~16]{volkov-iis}.

  Рассмотрим также некоторые термины, связанные непосредственно с измерительными информационными
  системами.

  \term{Вход ИИС}~--- часть ИИС или входящего в него устройства, блока, звена, на которую
  непосредственно подаётся воздействие извне (по отношению к данному устройству, блоку, звену).
  \term{Выход ИИС}~--- часть ИИС или входящего в него устройства, блока, звена, которая в соответствии с
  алгоритмом функционирования непосредственно воздействует вовне.
  \term{Сигнал}~--- обусловленное (заранее договорённое) состояние или изменение состояния
  представляющего параметра, отображающее информацию, которая содержится в воздействии (как правило,
  выражается некоторой математической функцией, однозначно отображающей изменения во времени
  представляющего параметра).
  \term{Канал связи}~--- совокупность линий связи и технических устройств на передающей и приёмной
  частях системы.

  \term{Техническое обеспечение ИИС}~--- комплекс технических средств, предназначенных для
  обеспечения работы измерительной информационной системы.
  \term{Информационное обеспечение ИИС}~--- совокупность системы классификации и кодирования
  технологической и технико-экономической информации, сигналов, характеризующих состояние объекта,
  массивов данных и документов, необходимых для выполнения всех функций ИИС.
  \term{Математическое обеспечение}~--- совокупность методов, математических моделей и алгоритмов,
  необходимых для выполнения функций ИИС, представляемых в заданной форме.
  \term{Программное обеспечение}~--- совокупность программ, обеспечивающая реализацию функций
  системы измерений и контроля процессом или измерительным экспериментом, заданное функционирование
  комплекса технических средств ИИС и предполагаемое развитие системы.

  \term{Совместимость ИИС}~--- возможность взаимосвязанного функционирования ИИС разных уровней и
  различного функционального назначения.
  \term{Надёжность ИИС}~--- способность ИИС выполнять функции, сохраняя эксплуатационные показатели
  в установленных пределах в течение заданного интервала времени при заданных условиях эксплуатации.
  Надёжность ИИС характеризуется показателями безотказности, ремонтопригодности и долговечности
  \cite[с.~5--7]{rannev-iis}.

  % TODO классификация ИИС?

  \todo{Здесь же рассказать про такие типы, как виртуальные изм. приборы и ИВК}

  \subsection{Цели и задачи применения ИИС}

  Спектр отраслей, в которых применяются измерительные информационные системы весьма широк.
  В частности, ИИС применяются для решения задач управления технологическими и
  производственными процессами, задач экспериментальных исследований, испытаний, мониторинга,
  диагностирования и тестирования аппаратных средств (агрегатов, самолётов, вертолётов) и т.\,п. В
  каждой из этих областей объектам и явлениям присущи некоторые отличительные особенности, которые
  предъявляют к системе измерения и тестирования свои характерные требования. Несмотря на имеющиеся
  различия для всех ИИС характерны общие тенденции развития, принципы построения и подходы к проектированию.

  Основная цель применения измерительных информационных систем~--- повышение эффективности и
  достоверности процесса измерения за счёт его автоматизации. % TODO более внятно + источники

  Назначение любой измерительной информационной системы можно определить как целенаправленное
  оптимальное ведение измерительного процесса и обеспечение смежных систем высшего уровня
  достоверной информацией. Исходя из этого, основные функции
  измерительной информационной системы \cite[с.~397]{rannev-meas-tech}:
  \begin{itemize}
    \item получение измерительной информации от объекта исследования;
    \item сохранение информации;
    \item обработка информации;
    \item представление информации оператору;
    \item дальнейшая передача информации;
    \item формирование управляющих воздействий.
  \end{itemize}

  В зависимости от требований конкретной задачи, стоящей перед ИИС, этот краткий список функций
  может изменяться и пополняться. При этом первые три являются наиболее фундаментальными и
  присутствуют практически в любой развитой измерительной информационной системе.

  \subsection{Требования, предъявляемые к ИИС}

  Поскольку одной из целей применения ИИС, как было сказано выше, является автоматизация процесса
  измерения, рассмотрим в первую очередь требования к процессу автоматизации в общем случае.
  Общие принципы и требования, предъявляемые к автоматизации эксперимента \cite{vinogradov-discrete, kurochkin-kamak}:
  \begin{itemize}
    \item повышенные требования к быстродействию автоматизированных систем, поскольку такие системы
      предназначены для быстрого получения и анализа данных и оперативного принятия решений;
    \item высокая надёжность автоматизированных систем, возможность длительной безотказной работы;
    \item простота эксплуатации автоматизированных систем и использование унифицированных блоков;
    \item гибкость автоматизированных систем, допускающая изменение её состава и структуры в процессе работы;
    \item возможность коллективного обслуживания различных установок;
    \item наличие диалогового режим работы, когда осуществляется непосредственная связь человека с системой;
    \item простая и быстрая система контроля.
  \end{itemize}

  К этим общим требованиям могут добавляться требования, определяемые конкретной задачей, например,
  использование определённого протокола передачи данных. Кроме того, сами общие требования, как
  правило, конкретизируются. Так, требования быстродействия формулируются в виде конкретных цифр:
  максимальное время отклика, предельный срок завершения, разброс значений времени отклика.

  Всё это напрямую относится и к измерительным информационные системам.  Состав и структура
  конкретной ИИС определяются перечисленными выше техническими требованиями, установленными
  государственным стандартом, и частными требованиями, содержащимися в техническом задании на ее
  создание.

  Измерительная информационная система должна \cite[с.~28]{rannev-iis}:
  \begin{itemize}
    \item управлять измерительным экспериментом в соответствии с принятым алгоритмом функционирования;
    \item выполнять возложенные на нее функции в соответствии с назначением и целью;
    \item обладать требуемыми показателями и характеристиками точности, надежности и быстродействия;
    \item отвечать экономическим требованиям, предъявляемым к способам и форме представления
      информации, размещению технических средств;
    \item быть приспособленной к функционированию с ИИС смежных уровней иерархии и другими ИИС и
      ИВК, т.е. обладать свойством программной, технической, информационной и метрологической
      совместимости;
    \item допускать возможность дальнейшей модернизации и развития.
  \end{itemize}

  В следующем подразделе вводится понятие измерительного канала, приведено сравнение одноканальных
  и многоканальных измерительных информационных систем и показано, как требования, перечисленные
  выше, влияют на выбор между ними.

  \subsection{Одноканальные и многоканальные ИИС}

  \term{Измерительный канал} измерительной системы~--- это конструктивно или функционально
  выделяемая часть ИИС, выполняющая законченную функцию от восприятия измеряемой величины до
  получения результата её измерений, выражаемого числом или соответствующим ему кодом, или до
  получения аналогового сигнала, один из параметров которого~--- функция измеряемой величины
  \cite[с.~9]{volkov-iis}. Иначе говоря, под измерительным каналом понимается совокупность
  технических средств и линий дистанционной передачи между первичным преобразователем, измерительным
  устройством и устройством отображения информации \cite[с.~420]{rannev-meas-tech}. Техническое
  устройство измерительного канала будет подробнее рассмотрено далее, в разделе~\ref{sec:hardware}.

  Различают простые измерительные каналы, реализующие прямые измерения какой-либо величины, и
  сложные измерительные каналы, реализующие косвенные, совокупные или совместные измерения, начальная часть которых разделяется на несколько простых
  измерительных каналов, например, при измерениях мощности в электрических сетях начальная
  часть сложного измерительного канала состоит из простых каналов измерений напряжения и тока.

  По количеству каналов ИИС можно разделить на одноканальные и многоканальные. Многоканальные ИИС
  параллельного действия являются наиболее распространёнными, так как имеют ряд преимуществ перед
  одноканальными: обладают наиболее высокой надёжностью, высоким быстродействием, дают возможность
  подбирать средства измерений к измеряемым величинам, что позволяет исключить унификацию сигналов
  \cite[с.~171]{rannev-iis}.

  Основные достоинства многоканальных измерительных систем связаны с возможностью измерения
  разнородных физических величин, использования одноканальных измерительных устройств, достижения
  максимального быстродействия и высокой схемной надёжности. При этом надёжность многоканальных ИИС
  оценивается по-разному в зависимости от предъявляемых к ним требований. Если считать, что система
  работоспособна только при исправности всех входящих в нее элементов, то тогда (при одинаковых
  измерительных каналах) вероятность безотказной работы такой структуры может быть относительно
  низкой. Однако если важна работоспособность хотя бы одного канала, то в этом случае надёжность
  будет выше по сравнению с одноканальными системами, так как каналы дублируют друг друга.

  Недостатком многоканальных измерительных систем является большее (по сравнению с
  другими ИИС) число элементов и, как следствие, более высокая стоимость.

  % TODO рассказать про мультиплицированные? (они, по-видимому, не цифровые => не сильно интересно

  % ------ end section ------------

  \paragraph{Выводы.}
  Таким образом, в данном разделе было введено понятие измерительных информационных
  систем и связанные с ним понятия, описана предметная область применения ИИС. Рассмотрены
  основные требования, предъявляемые к ИИС и показано, почему для их удовлетворения более
  предпочтительными являются многоканальные ИИС.

  В следующем разделе будут рассмотрены технические особенности построения измерительных систем,
  использование микроконтроллеров в них, виды цифровой обработки сигналов, способы синхронизации и
  существующие решения для программного обеспечения таких систем.

  \section{Аппаратные компоненты ИИС}\label{sec:hardware}

  \todo{более плавное введение.}

  Обозначенные принципы позволяют сформировать структуру автоматизированной системы управления
  экспериментом. Данные об исследуемом объекте от специализированных датчиков физических величин
  поступают на вход каналов измерения, которые выполняют функции фильтрации, масштабирования,
  аналого-цифрового преобразования, коррекции данных, и далее данные по каналам связи поступают в
  ЭВМ, где происходит их основная обработка в соответствии с заданными математическими алгоритмами.
  При этом за процессом обработки следит исследователь с помощью пульта контроля и управления, что
  позволяет в реальном масштабе времени вносить необходимые коррективы, как в алгоритмы обработки,
  так и в алгоритмы управления всей системой измерения. Вся измерительная система охвачена каналом
  обратной связи, что позволяет напрямую управлять каждым из компонентов системы от ЭВМ
  (рис.~\ref{fig:system-structure}) \cite{kuzmichev-automation}.

  \begin{myfigure}{структурная схема автоматизированной системы экспериментальных исследований}{fig:system-structure}
    \begin{tikzpicture}[scale=0.9, transform shape]
      \tikzstyle{arrow}  = [->, thick]
      % item - общий стиль-предок для block, comp, control и user
      \tikzstyle{item}   = [rectangle, rounded corners, text centered, font=\footnotesize]
      \tikzstyle{block}  = [item, draw=blue, fill=cyan!10, text width=2.5cm, minimum height=4em]
      \tikzstyle{comp}   = [item, draw=orange, fill=orange!20!yellow!20,
                            text width=2cm, font=\small, minimum height=8em]
      \tikzstyle{object} = [circle, draw=OliveGreen, fill=green!10,
                            text centered, text width=2.2cm, font=\footnotesize]
                            % minimum height должна совпадать с той, что у block
      \tikzstyle{control}= [item, draw=teal, fill=teal!10,text width=4cm]
      \tikzstyle{user}   = [item, draw=violet, fill=violet!10, inner sep=5mm]
      % Блоки верхнего ряда (b = block)
      \node[object] (b0) {Исследуемый\\объект};
      \node[block]  (b1) [right=0.75cm of b0] {Датчики\\физических\\величин};
      \node[block]  (b2) [right=0.75cm of b1] {Каналы\\измерений};
      \node[block]  (b3) [right=0.75cm of b2] {Канал связи};
      % Большой блок "ЭВМ" (comp = computer)
      \node[comp] (Comp) [right=0.75cm of b3, shift={(0,-1)}] {ЭВМ};
      % Узлы для стрелок под блоками
      \foreach \x in {1,...,3} {
        \node (u\x)[below=of b\x] {};
      }
      % Узел под b0 располагаем с осторожностью: b0 имеет другую высоту
      \node (u0) at (u1-|b0) {};  % ( A -| B ) - точка с y-координатой от A и x-координатой от B
      % Стрелки под блоками
      \foreach \x in {0,...,3} {
        \draw [arrow] (u\x.north) -- (b\x);
      }
      % Нижняя объемлющая часть стрелки
      \draw [-, thick] (b0) -- (u0.north) -- (u0.north-|Comp.west) % ( A -| B ) - точка с y-координатой от A и x-координатой от B
            node[midway, below, font=\footnotesize] (Label) {Канал обратной связи};
      % Стрелки между блоками
      \foreach \from/\to in {b0/b1, b1/b2, b2/b3}
        \draw [arrow] (\from) -- (\to);
      % Горизонтальная стрелка между последним блоком и ЭВМ
      \draw [arrow] (b3) -- (b3-|Comp.west);

      \node[control] (Control) [below=0.5cm of  Label ] {Пульт контроля\\и управления};
      \node[user]    (User)    [below=0.75cm of Control] {Исследователь};

      \draw [<->, very thick, blue!50!black] (Comp) |- (Control);
      \draw [<->, ultra thick, brown!75!violet] (User) -- (Control);

      \draw [<-, very thick, red] (b0.west) -- ++(-0.5cm, 0cm) |- (Control);

    \end{tikzpicture}
  \end{myfigure}

  При практической реализации автоматизированной системы каналы измерения представляют собой
  наиболее сложный узел, так как определяют метрологические характеристики всей системы. Типичная
  схема реализации измерительного канала приведена на рис.~\ref{fig:channel-scheme}.

  \begin{myfigure}{функциональная схема канала измерения}{fig:channel-scheme}
    \begin{tikzpicture}[scale=0.9, transform shape]
      \tikzstyle{block} = [rectangle, draw=blue, rectangle, rounded corners, fill=cyan!10,
                           text centered, text width=3cm, font=\footnotesize, minimum height=4em]
      \tikzstyle{around} = [rectangle, draw=darkgray, loosely dashed, rectangle, rounded corners]
      % Блоки (c = channel)
      \node        (c0) {};
      \node[block] (c1) [right=0.5cm of c0] {Масштабный преобразователь};
      \node[block] (c2) [right=0.7cm of c1] {Устройство фильтрации};
      \node[block] (c3) [right=0.7cm of c2] {Аналогово-цифровой \mbox{преобразователь}}; % mbox чтобы избежать переноса
      \node[block] (c4) [right=0.7cm of c3] {Устройство управления};
      \node        (c5) [right=0.5cm of c4] {};

      \node[above=of current bounding box.center] (title) {Измерительный канал};

      % Стрелки под блоками
      \foreach \x in {1,...,3} {
        \node (u\x)[below=of c\x] {};
        \draw [->, thick] (c4) |- (u\x.north) -- (c\x);
      }

      \foreach \from/\to in {c0/c1, c1/c2, c2/c3, c3/c4, c4/c5}
        \draw [->, thick] (\from) -- (\to);

      \node[fit=(c0)(c3)(c5)(u1)(title),around]{\hspace*{\fill}~}; % hspace - хак, чтобы подавить underfull hbox
    \end{tikzpicture}
  \end{myfigure}

  Данные с датчика физических величин поступают на масштабный преобразователь (например, усилитель),
  назначение которого связанно с преобразованием уровня аналогового сигнала до приемлемого значения.
  Далее аналоговый сигнал поступает на устройство фильтрации, которое в общем случае может состоять
  из разных по назначению фильтров, построенных как по аналоговой схеме, так и по цифровой. После
  фильтрации сигнал поступает на аналого-цифровой преобразователь, выполняющий
  функцию дискретизации аналогового сигнала. Устройство управления канала измерения
  выполняет функцию контроля и управления входящими в канал устройствами. Такое построение позволяет
  достаточно просто реализовать канал измерения, однако не обеспечивает решения всего спектра
  возможных измерительных задач. Действительно, использование раздельного управления в каждом канале
  измерения с одной стороны требует усложнения общего управления всеми каналами измерения (требует
  настройки каждого канала измерения по отдельности), с другой стороны не позволяет точно
  синхронизировать измерения по каналам, и в третьих, в силу отсутствия промежуточных вычислительных
  процессоров, не позволяет всей автоматизированной системе в реальном времени реагировать на
  изменение входной информации \cite{stupin-methods}.

  \subsection{Применение вычислительных процессоров}

  Одним из решений указанных проблем является применение оптимальных программно-аппаратных
  алгоритмов обработки информации с точной синхронизацией по времени частотно-временных и
  энергетических процедур обработки сигналов с применением вычислительных процессоров и
  специализированных инструментальных средств.

  Перспективным решением построения каналов измерения является схема построения, в которой
  используется промежуточная микроЭВМ, в качестве которой могут быть применены как
  специализированные цифровые устройства, так и микроконтроллеры или цифровые сигнальные процессоры.
  Использование микроконтроллеров в измерительном процессе позволяет не только решить задачу
  синхронизации оцифровки сигнала по времени одновременно во всех каналах измерения, но также
  существенно расширить функциональные возможности измерительной аппаратуры за счёт организации
  таких операций, как калибровка, поверка, минимизация дестабилизирующих факторов, контроль и
  управление измерительными сенсорами, первичное преобразование и обработка, а также существенно
  упростить задачу передачи информации по каналам связи \cite{klaassen-methods}.

  Наиболее важным аспектом применения микроконтроллеров является возможность организации цифровой
  обработки информации с применением процедуры распараллеливания, что позволяет получить
  существенный выигрыш при применении алгоритмов цифровой фильтрации: существенно сократить
  погрешность квантования измерительного сигнала, повысить помехоустойчивость измерительного канала
  и повысить достоверность в выделении отдельных составляющих сигнала, соответствующих тем или иных
  свойствам исследуемого процесса. Одновременно возможно синхронизировать отдельные процессы
  обработки информации по времени, что является существенным фактором возможности применения
  цифровой обработки сигналов в специализированных областях радиофизики и геофизики
  \cite{rathore-digital}. В то же время, применение цифровых фильтров при обработке измерительной
  информации приводит в общем случае к существенному искажению результатов измерений, и, особенно, к
  рассинхронизации измерительной информации по отдельным измерительным каналам, связанной с
  различной задержкой во времени прохождения сигналов по измерительному тракту, поэтому задача
  синхронной обработки информации становится наиболее важной.

  Функциональная схема каналов измерения с применением микроконтроллера  представлена на
  рис.~\ref{fig:channel-with-microcontroller}.

  \begin{myfigure}{функциональная схема канала измерения с применением микроконтроллера}{fig:channel-with-microcontroller}
    \begin{tikzpicture}[scale=0.85, transform shape]
      \tikzstyle{arrow}  = [->, thick]
      \tikzstyle{cline}  = [thick, Blue] % линия управления: толстый синий
      \tikzstyle{sline}  = [thick, Red] % линия синхронизации толстый синий
      \tikzstyle{item}   = [rectangle, rounded corners, text centered, font=\footnotesize]
      \tikzstyle{block}  = [item, draw=blue, fill=cyan!10, text width=3cm, minimum height=4em]
      \tikzstyle{around} = [item, draw=darkgray, loosely dashed]
      \tikzstyle{title}  = [above, font=\small]
      \tikzstyle{controller} = [item, draw=Blue, thick, fill=blue!10, text width=3cm, minimum height=2.5cm]
      \tikzstyle{syncdev}= [item, draw=OliveGreen, fill=green!10, text width=2.5cm]
      \tikzstyle{ram}    = [cylinder, aspect=0.25, inner sep=3mm, shape border rotate=90, draw=Emerald, fill=Emerald!10, text centered, font=\footnotesize]
      \tikzstyle{empty}  = [fill=none, draw=none, inner sep=0mm]

      % Блоки (c = channel, cIJ - канал номер I, блок номер J)
      % Задаём вручную начальные позиции каналов
      \node[empty] (c10) {};
      \node[empty] (c20) [below=3.5cm of c10] {};
      \node[empty] (cN0) [below=3.5cm of c20] {};
      % Всё остальное рисуем в цикле:
      \foreach \x in {1, 2, N} {
        \node[block] (c\x1) [right=0.5cm of c\x0] {Масштабный преобразователь};
        \node[block] (c\x2) [right=0.7cm of c\x1] {Устройство фильтрации};
        \node[block] (c\x3) [right=0.7cm of c\x2] {Аналогово-цифровой \mbox{преобразователь}}; % mbox чтобы избежать переноса
        \node[title] (title\x) at (c\x2.north) {Измерительный канал №$\x$};
        \foreach \from/\to in {c\x0/c\x1, c\x1/c\x2, c\x2/c\x3}
          \draw [arrow] (\from) -- (\to);
        % Узлы под боками (u = under, uIJ)
        \foreach \y in {1,2} {
          \node[empty] (u\x\y)[below=3mm of c\x\y] {};
        }
        % u3 отдельно: он ниже
        \node[empty] (u\x3)[below=6mm of c\x3] {};
        \node[fit=(c\x1)(c\x3)(u\x1)(title\x),around]{\hspace*{\fill}~}; % hspace - хак, чтобы подавить underfull hbox
      }
      \node[controller] (MCU) [right=2.5cm of c23] {Микроконтроллер};
      % Входы в контроллер: mc1, mc2, mcN
      \foreach \x/\angle in {1/160, 2/180, N/200} {
        \node (mc\x) [left=1cm of MCU.\angle] {};
        \draw [arrow] (c\x3) -| (mc\x.center) -- (mc\x.center -| MCU.west);
      }
      % Линия управления
      \node[circle,fill=Blue,inner sep=1mm] (Control) [right=4mm of u11-|mc1] {};
      \node[above right, Blue, font=\footnotesize] at (Control) {Линия управления};
      \draw [-, cline] (MCU) |- (Control);
      % Линия синхронизации
      \node[circle,fill=Red,inner sep=1mm] (Sync) [left=4mm of u23-|mc2] {};
      \node[below right, Red, font=\footnotesize] at (Sync-|Control) {Линия синхронизации};
      \draw [-, sline] (MCU) |- (Sync);
      % Соединяем линии синхронизации и управления с блоками
      \foreach \x in {1,2,N} {
        % Стрелки линии управления
        \foreach \y in {1,2} {
          \draw [->, cline] (Control) |- (u\x\y.center) -- (c\x\y);
        }
        % Стрелки линии синхронизации
        \draw [->, sline] (Sync) |- (u\x3.center) -- (c\x3);
      }
      % Устройство синхронизации
      \node[syncdev] (SyncDev) [below=2cm of MCU] {Устройство синхронизации};
      \draw[<-, thick, OliveGreen] (MCU.340) -- ++(4mm,0mm) |- (SyncDev);
      % ОЗУ
      \node[ram] (RAM) [above=2.2cm of MCU] {ОЗУ};
      \draw[<->, thick, Emerald] (MCU.20) -- ++(4mm, 0mm) |- (RAM);
      % Выход
      \draw[arrow] (MCU.east) -- ++(1, 0);

    \end{tikzpicture}
  \end{myfigure}

  Данные от датчиков физических величин поступают на масштабные преобразователи измерительных
  каналов. Использование при этом микроконтроллера с обратной связью позволяет организовывать
  процесс прецизионного измерения входных величин за счёт разделения информации по каналам
  измерения с разным коэффициентом усиления и её сложением в микроконтроллере, в этом случае часть
  измерительных каналов работает с большим сигналом, а часть настроена на малый сигнал, что
  позволяет измерять аналоговые сигналы в большом диапазоне значений, при этом на выходе
  микроконтроллера мы получаем непрерывный сигнал во всем диапазоне значений физических датчиков.
  Устройства фильтрации также управляются от микроконтроллера, что позволяет не только выполнять
  стандартные операции фильтрации сигнала, но и, применяя специализированные алгоритмы обработки
  информации, оперативно реагировать на изменяющиеся помехи и оперативно адаптировать параметры
  фильтрации, что существенно расширяет возможности всей автоматизированной системы и увеличивает
  общую помехоустойчивость процесса измерения сигналов.

  Отфильтрованные данные поступают на аналого-цифровые преобразователи, которые, в свою очередь,
  управляются по линии синхронизации. Это позволяет решить задачу синхронной дискретизации сигналов
  по времени, при этом точность синхронизации будет определяться, в первую очередь, точностью
  устройства синхронизации, в качестве которого могут использоваться как классические источники
  высокоточных синхроимпульсов, так и генераторы синхроимпульсов, построенные с использованием
  глобальной системы позиционирования (GPS).

  Информация, поступающая на входы микроконтроллера в цифровом виде от аналого-цифровых
  преобразователей может как передаваться далее по линиями связи в основную ЭВМ, так и
  накапливаться во временном оперативном запоминающем устройстве. Это позволяет, с одной стороны,
  применять специализированные алгоритмы обработки информации с целью оперативного управления
  масштабными преобразователями и устройствами фильтрации, а с другой~--- за счёт применения
  высокоскоростных параллельных ОЗУ накапливать данные со скоростью превосходящей возможности
  каналов связи. Такое применение гарантирует, что в заданный промежуток времени весь поток
  поступающей информации будет обработан и в дальнейшем передан в ЭВМ для анализа и хранения.

  Применение микроконтроллеров в подготовке информации для передачи по каналам связи, позволяет
  более полно использовать каждый физический канал связи, что в общем случае позволяет как добиться
  большей скорости передачи информации, так и существенно расширить спектр применяемых видов каналов
  связи: от радиоканала до специализированной вычислительной сети. Применение специализированных
  алгоритмов в подготовке данных позволяет добиться гарантированного прохождения информации по
  каналам связи без потерь, а применение алгоритмов шифрования и распределения доступа позволяет
  большему количеству исследователей одновременно участвовать в физических экспериментах, при этом
  гарантируется надёжность управления всей системой.

  Таким образом, применение микроконтроллеров в качестве управляющего устройства сразу в нескольких
  каналах измерения автоматизированных систем позволяет существенно расширить возможности самой
  системы, кардинально повысить помехоустойчивость системы, решить вопрос синхронизации поступающих
  данных и, как результат, добиться повышения эффективности и достоверности процессов обработки
  измерительных сигналов в автоматизированной системе.

  \subsection{Цифровая обработка сигналов}

  Фильтрация представляет собой одну из самых распространённых операций обработки сигналов. Цель
  фильтрации состоит в подавлении помех, содержащихся в сигнале, или в выделении отдельных
  составляющих сигнала, соответствующих тем или иным свойствам исследуемого процесса. Фильтрация
  сигнала заключается в целенаправленном изменении соотношения между различными компонентами спектра
  сигнала.

  В цифровой обработке сигналов в основном применяются цифровые фильтры. Они обладают высокой
  точностью, компактностью. Они гибкие в настройке и лёгкие в изменении. В отличие от аналоговых
  фильтров передаточная функция не зависит от дрейфа характеристик элементов. Но, несмотря на
  вышеперечисленные плюсы, недостатки у данных фильтров все-таки присутствуют. Это, во-первых, трудность работы с
  высокочастотными сигналами: полоса частот ограничена частотой Найквиста, равной половине частоты
  дискретизации сигнала. Во-вторых, трудность работы в реальном времени~--- вычисления должны быть завершены в
  течение периода дискретизации. Для большей точности и высокой скорости обработки сигналов
  требуется не только мощный процессор, но и дополнительное, дорогостоящее, аппаратное обеспечение в
  виде высокоскоростных ЦАП и АЦП \cite{glinchenko-digital}.

  Как и при анализе аналоговых сигналов, дискретные сигналы можно представить во временной и
  частотной областях. В настоящее время обработку дискретных сигналов чаще всего проводят в
  частотной области, что диктуется значительными сокращениями объёма цифровой аппаратуры и временем
  обработки. Дискретное преобразование Фурье (ДПФ) по существу представляет собой алгоритм вычисления
  гармонических составляющих спектра по заданным дискретным отчётам аналогового сигнала, что
  значительно сокращает время обработки.  Но дискретное преобразование Фурье не всегда бывает
  удобным \cite{solonina-algorithms}.

  Например, для определения одного коэффициента ДПФ сигнальной последовательности из $N$ отчётов
  необходимо выполнить около $N$ операций умножения на комплексное число и столько же сложений, а для
  нахождения всех коэффициентов объем вычислений составит $N^2$. Если длины обрабатываемых массивов
  превышают тысячу единиц, то дискретная спектральная обработка сигналов в реальном масштабе времени
  требует высокопроизводительных вычислительных комплексов.

  Многократно сократить число операций позволяет быстрое преобразование Фурье (БПФ), обеспечивающее
  вычисление коэффициентов ДПФ за меньшее число операций. В основу БПФ положен принцип разбиения
  заданной последовательности отчётов дискретного сигнала на несколько промежуточных
  последовательностей. Для этого число отчётов $N$ разделяется на множители. Затем, определяются
  спектры этих промежуточных последовательностей, и через них находится спектр всего сигнала. В
  зависимости от состава, числа и порядка следования указанных множеств можно создать различные
  алгоритмы БПФ. В цифровой технике удобно обрабатывать сигнальные последовательности со значениями
  $N$, являющимися степенью числа $2$. Это позволяет многократно делить входную
  последовательность отчётов на подпоследовательности.

  Дискретное преобразование Фурье отображает переход последовательности вещественных данных в
  комплексную область, где хорошо разработаны методы анализа, существенно облегчающие изучение и
  трактовку колебательных процессов. Однако обработку вещественных данных желательно выполнять в
  вещественной области. Эту задачу решает дискретное преобразование Хартли (ДПХ), которое, как и
  ДПФ, может применяться в задачах спектрального анализа и цифровой фильтрации.

  Кроме преобразований Фурье и Хартли в практике цифровой фильтрации используются также дискретное
  преобразование Лапласа и Z-пре\-об\-ра\-зо\-ва\-ние, Вейвлеты. Дискретное преобразование Лапласа имеет
  прямую аналогию с преобразованием Лапласа, оно получило широкое распространение благодаря тому, что
  многим соотношениям и операциям над оригиналами соответствуют более простые соотношения над
  изображениями. Так, свёртка двух функций сводится в пространстве изображений к операции умножения,
  а линейные дифференциальные уравнения становятся алгебраическими.

  При исследовании дискретных сигналов и линейных систем, как правило, вместо дискретного
  преобразования Лапласа используют Z-пре\-об\-ра\-зо\-ва\-ние, которое получается из дискретного
  преобразования Лапласа в результате замены переменных.

  Перечисленные алгоритмы обработки сигнала являются наиболее распространёнными, дающие качественный
  результат при относительно простой реализации. Таким образом, выбор алгоритма ЦОС является
  ключевым моментом определяющим достижение поставленной цели \cite{zubarev-realtime}. Реализация
  программного блока ЦОС определяется как выбором языка программирования с учётом необходимой
  скорости обработки, так и заданными аппаратными возможностями вычислительного процессора. Это
  определяется тем, что как при измерении уровня первой гармоники, так и при анализе спектра сигнала
  определяющим является качество цифровой фильтрации гармоник сигнала от первой до сороковой.

  \subsection{Устройство синхронизации процесса измерения}\label{ssec:sync}

  Точная синхронизация по времени частотно-временных и энергетических процедур обработки
  сигналов возможна за счёт применения вычислительных процессоров и специализированных
  инструментальных средств. Решение этой задачи позволяет синхронизировать отдельные процессы
  обработки информации по времени, что является существенным фактором возможности применения
  цифровой обработки сигналов в специализированных областях радиофизики и геофизики \cite{stupin-methods}.

  Анализ возможных путей решения задачи синхронизации, показал, что решить эту задачу возможно как
  классическими источниками высокоточных синхроимпульсов, так и генераторами синхроимпульсов,
  построенные с использованием глобальной системы позиционирования (GPS система). Использование GPS
  системы позволяет добиться точности межканальной синхронизации не менее 100 нс \cite{lombardi-gps}, причём в случае
  распределённого в пространстве объекта измерения нет необходимости направлять синхроимпульсы из
  единого устройства синхронизации, а можно использовать с каждым территориальным измерительным
  каналом своё устройство синхронизации, причём точность синхронизации при этом не изменяется,
  одновременно отсутствует погрешность обусловленная прохождением синхроимпульсов по длинным
  распределённым линиям.

  \section{Программные компоненты ИИС}

  \todo{написать раздел.}

  \subsection{Методы и задачи программных компонентов ИИС}

  \todo{написать раздел.}

  \subsection{Существующие программные решения}\label{ssec:existing}

  При решении задачи цифровой обработки сигналов программная часть может реализоваться отдельно под
  каждую конкретную задачу, как, например, в работе \cite{bak-autometry}.
  Тем не менее, существуют различные универсальные программные решения, которые можно разбить на две
  основных группы:
  \begin{enumerate}
    \item SCADA-системы (англ. Supervisory Control And Data Acquisition — диспетчерское управление и
      сбор данных), программные пакеты, предназначенные для разработки или обеспечения работы в
      реальном времени систем сбора, обработки, отображения и архивирования информации об объекте
      мониторинга или управления. \cite{boyer-scada}
      Примеры таких систем: InTouch, TraceMode и др.
    \item Платформы графического программирования, такие как LabVIEW \cite{lavrov-labview}, MatLab/Simulink и др.
  \end{enumerate}

  Главными преимуществами SCADA-систем являются их высокая производительность и надёжность,
  определяющиеся областью применения этих систем для контроля за крупными промышленными объектами.
  Это обуславливает и их главные недостатки: высокую стоимость и громоздкость, а~также, в отдельных
  случаях, необходимость использования специального оборудования.

  Платформы второй группы лишены этого недостатка. Однако в отличие от SCADA-систем, они не
  представляют из себя готовые решения, будучи лишь мощными средами для разработки таковых.
  И хотя наличие специализированных инструментов и готовых блоков делает разработку существенно
  проще по сравнению с языками программирования общего назначения, такие системы лучше всего
  подходят для прототипирования и демонстрационных целей, так как имеют худшее быстродействие по
  сравнению с первой группой из-за использования интерпретаторов.

  \section{Универсальная информационная система обработки экспериментальных данных}

  \subsection{Постановка задачи}\label{ssec:task}

  Как уже было сказано выше в~разделе \nameref{sec:intro},
  целью работы является повышение эффективности и достоверности процессов автоматизированной
  обработки измерительных сигналов. С этой целью разрабатывается универсальная информационная
  система обработки экспериментальных данных,
  специальное программное обеспечение,
  являющееся компромиссом между двумя группами имеющихся решений, описанных выше в
  подразделе~\ref{ssec:existing}, то есть готовой к интеграции, гибкой системой, но не такой
  громоздкой и сложной, как SCADA-системы.

  К системе предъявляются следующие требования.

  Система должна быть готовой к использованию программой, не требующей модификации программного кода
  для применения к реальной измерительной системе. В частности, система должна реализовывать
  получение данных по протоколу RS-232\cite{sweet-serial} от микроконтроллера, выполняющего оцифровку.

  Необходимо, чтобы быстродействие системы было достаточным для обработки поступающих цифровых
  сигналов в реальном времени. В частности, система должна обрабатывать в секунду не менее 1000
  отсчётов, поступающих на вход.

  Для обеспечения точности привязки по времени система должна осуществлять синхронизацию времени с
  использованием системы GPS, что было объяснено выше, в подразделе~\ref{ssec:sync}.

  Система должна иметь два режима работы: диалоговый, в~котором пользователь может управлять
  программой с помощью графического интерфейса и наблюдать изменения обрабатываемых данных,
  визуализируемых в реальном времени, и фоновый режим, в~котором графический интерфейс отключается
  для экономии ресурсов.

  Наконец, для эффективного использования вычислительной мощности многоядерных центральных
  процессоров, получающих в наши дни всё большее распространение~\cite{steam-hardware}, нужно, чтобы
  вычисления могли выполняться параллельно.

  Для достижения цели ставятся следующие задачи:
  \begin{enumerate}
    \item Реализация процесса получения данных.
    \item Разработка высокопроизводительного модуля обработки цифровых данных.
    \item Реализация процесса синхронизации.
    \item Разработка подсистемы визуализации.
    \item Разработка модуля, позволяющего визуализировать ранее накопленные данные.
  \end{enumerate}

  В следующем разделе будет описан способ выполнения этих задач.

  \subsection{Реализация системы обработки сигналов}\label{ssec:impl}

  % TODO move upward?
  Система реализуется в~виде набора программ, написанных на языке C++. Выбор языка обоснован
  компромиссом между быстродействием и удобством разработки и интеграции, которые обеспечивает
  использование объектно-ориентированной парадигмы. Система состоит из следующих программ.

  \begin{enumerate}
    \item Основная программа, реализующая получение, обработку, сохранение и визуализацию данных
      (далее~--- основная программа).
    \item Программа статистической обработки накопленных данных, используемая для визуализации
      файлов, сохранённых основной программой (далее~--- программа обработки накопленных данных).
    \item Вспомогательная программа для генерации тестовых данных, описанная в подразделе~\ref{ssec:testing}
      (далее~--- генератор данных).
  \end{enumerate}

  В последующих подразделах будет описана архитектура этих программ и технологии, используемые при их
  разработке. В соответствии с выбором объектно-ориентированного языка программирования, архитектура будет описываться в
  терминах объектно-ориентированного проектирования (англ. \eng{Object-Oriented Analysis and Design,
  OOAD}) \cite{booch-ooad}.

  \subsection{Архитектура системы}

  Основная программа и программа обработки накопленных данных являются независимыми исполняемыми
  модулями. Взаимодействие между программами происходит через поддержку общего формата файлов, в
  качестве которого используется \eng{Comma Separated Values} (CSV, RFC-4180 \cite{rfc4180}).
  Основная программа в ходе работы записывает файлы в~этом формате, которые затем могут быть прочитаны
  программой обработки накопленных данных. В остальном программы независимы и могут использоваться
  отдельно друг от друга.

  Далее будет рассмотрена архитектура каждой из этих программ.

  \subsubsection{Архитектура основной программы}\label{sssec:main-arch}

  Функциональность основной программы чётко разделяется на три части: получение данных, их
  преобразование и визуализация. Поэтому наиболее подходящей архитектурой становится
  <<Модель~--- Представление~--- Контроллер>> (англ. \eng{MVC: Model~--- View~--- Controller})
  \cite{gamma-patterns}, при этом получение данных соответствует уровню <<Модель>>, операции с
  данными~--- уровню <<Контроллер>> и, соответственно, визуализация~--- уровню <<Представление>>.

  Различают две модификации этой архитектуры, отличающиеся ролью уровня <<Модель>>: так называемые
  <<Пассивная модель>> и <<Активная модель>>. В~первом случае модель представляет собой лишь
  источник данных и никак не может воздействовать на представления и контроллер, вместо этого
  контроллер отслеживает её изменения и он же отвечает за обновление представления по необходимости.
  В~другом случае модель сама оповещает представления о том, что в ней произошли изменения, а
  заинтересованные представления подписываются на эти сообщения. Поскольку в~данной программе для
  достижения реального времени требуется как можно более быстрая реакция на поступающие данные, то
  при реализации этой программы используется вариант архитектуры MVC с активной моделью.

  Отделение модели и представления от логики приложения (контроллера) позволяет иметь различные
  взаимозаменяемые реализации как модели, так и представления: в~случае модели это разные протоколы
  обмена данными, в~случае представления~--- различные виды интерфейса: графический, текстовый, и~т.\,д.
  Кроме того, упрощается реализация параллельных вычислений: каждый из трёх уровней может работать
  в~отдельном потоке исполнения.

  \begin{myfigure}{архитектура основной программы}{fig:main-arch}
    \begin{tikzpicture}[scale=1.0, transform shape]
      \tikzstyle{arrow}  = [->, thick]
      \tikzstyle{impl}   = [-, thick, dashed]
      \tikzstyle{label}  = [draw=none, fill=none, font=\footnotesize\em]
      % item - общий стиль-предок для разных видов блоков
      \tikzstyle{item}   = [rectangle, text centered, font=\footnotesize, minimum height=2.5em]
      % block - общий стиль-предок для округлых блоков
      \tikzstyle{block}  = [item, rounded corners, thick, text width=3cm]
      % box - общий стиль-предок для прямоугольных блоков
      \tikzstyle{box}    = [item, text width=1cm]
      % model, view, ctrl - три уровня MVC
      \tikzstyle{model}  = [draw=Violet, fill=Violet!10]
        \tikzstyle{mblk} = [model, block]
        \tikzstyle{mbox} = [model, box]
      \tikzstyle{view}   = [block, draw=Emerald, fill=Emerald!10]
      \tikzstyle{ctrl}   = [block, draw=cyan, fill=cyan!10]
      % блоки
      \node[mblk] (Proto) {Абстрактный\\протокол};
      \node[mbox] (COM)   [below=of Proto.south west, anchor=west] {COM\\порт};
      \node[mbox] (Eth)   [below=of Proto.south east, anchor=east] {Ethe\-rnet};
      \node[ctrl] (Core)  [right=of Proto] {Ядро};
      \node[view] (GUI)   [right=of Core ] {Графический\\интерфейс};
      \node[view] (CLI)   [below=3mm of GUI  ] {Текстовый\\интерфейс};
      % стрелки
      \draw[arrow] (Proto) -- (Core);
      \draw[arrow] (Core.east) -- (GUI.west);
      \draw[arrow] (Core.east) -- (CLI.north west);
      \draw[impl]  (COM) -- (Proto.south-|COM);
      \draw[impl]  (Eth) -- (Proto.south-|Eth);
      % подписи
      \node[label] [above=3mm of Proto] {Модель};
      \node[label] [above=3mm of Core ] {Контроллер};
      \node[label] [above=3mm of GUI  ] {Представление};
    \end{tikzpicture}
  \end{myfigure}

  Таким образом, архитектура основной программы приобретает вид, показанный на рис.~\ref{fig:main-arch}.
  Стрелками показано направление движения данных, пунктиром~--- реализация абстрактного класса.

  С точки зрения объектно-ориентированного проектирования, каждый из блоков на рис.~\ref{fig:main-arch}
  реализуется в~виде класса, причём классы, реализующие различные протоколы (например, RS-232,
  Ethernet, виртуальный тестовый протокол для проверки и~т.\,п.), наследуются от общего абстрактного
  класса-родителя. Тем самым исключается зависимость ядра от конкретной реализации протокола, что
  позволяет сделать его универсальным.

  \subsubsection{Архитектура программы обработки накопленных данных}

  В~программе обработки накопленных данных, как и в основной программе, описанной выше в
  п.~\ref{sssec:main-arch}, независимость визуализации от обработки данных также делает уместным
  применение архитектуры MVC. Но в~отличие от основной программы, здесь данные не приходят извне, а
  считываются из файла и в~дальнейшем при необходимости редактируются пользователем, то~есть и их
  изменение изнутри, а не извне программы. Всё это приводит к тому, что здесь можно использовать
  более простой вариант архитектуры MVC с <<пассивной>> моделью. Недостатком этого варианта является
  то, что при этом значительная часть программного кода сосредоточена в контроллере, а модель и
  представление тривиальны. Впрочем, для данной программы этот недостаток не является критическим,
  так как её функциональность не настолько велика, чтобы класс-контроллер оказался перегружен.

  \begin{myfigure}{архитектура программы обработки накопленных данных}{fig:stat-arch}
    \begin{tikzpicture}[scale=1.0, transform shape]
      \tikzstyle{arrow}  = [->, thick]
      \tikzstyle{label}  = [draw=none, fill=none, font=\footnotesize\em]
      % item - общий стиль-предок для разных видов блоков
      \tikzstyle{item}   = [rectangle, text centered, font=\footnotesize, minimum height=2.5em]
      % block - общий стиль-предок для округлых блоков
      \tikzstyle{block}  = [item, rounded corners, thick, text width=3cm]
      % model, view, ctrl - три уровня MVC
      \tikzstyle{modl}  = [block, draw=Violet, fill=Violet!10]
      \tikzstyle{view}   = [block, draw=Emerald, fill=Emerald!10]
      \tikzstyle{ctrl}   = [block, draw=cyan, fill=cyan!10]
      % блоки
      \node[modl] (Stat)  {Статистика};
      \node[modl] (Readr) [below=0.75cm of Stat] {Чтение\\файла};
      \node[modl] (Writr) [below=0.3cm of Readr] {Запись\\файла};
      \node[ctrl] (Core)  [right=of Stat] {Ядро};
      \node[view] (GUI)   [right=of Core ] {Графический\\интерфейс};
      \node[view] (Print) [below=0.75cm of GUI ] {Печать\\отчёта};
      % стрелки
      \draw[arrow]    (Readr) -| (Core.220);
      \draw[arrow] (Core.320) |- (Writr);
      \draw[arrow]     (Core) -- (Stat);
      \draw[arrow,<->] (Core) -- (GUI);
      \draw[arrow]     (Core.east) -- (Print.north west);
      % подписи
      \node[label] [above=3mm of Stat] {Модель};
      \node[label] [above=3mm of Core] {Контроллер};
      \node[label] [above=3mm of GUI ] {Представление};
    \end{tikzpicture}
  \end{myfigure}

  На рис.~\ref{fig:stat-arch} представлена архитектура программы обработки накопленных данных. Стрелками
  показано направление движения данных. Видно, что всеми потоками данных управляет контроллер, что и
  является особенностью варианта MVC с пассивной моделью.

  \subsection{ПО ИС обработки экспериментальных данных}

  \todo{написать раздел.}

  \subsubsection{Используемые технологии}\label{ssec:techno}

  После того, как сделан выбор языка программирования для реализации системы (в данном случае это
  C++, как было указано в разделе \ref{ssec:impl}), необходимо определиться с набором используемых
  программных библиотек. В~случае, если подходящие библиотеки для данного языка имеются, и являются тщательно
  протестированными, то их использование более предпочтительно, чем самостоятельная разработка той
  же функциональности. Если некий набор библиотек реализует комплексный подход к~решению
  определённого круга задач, то такие библиотеки могут объединяться в общую систему, существенно
  определяющую структуру использующего их приложения. В~этом случае говорят уже не об отдельных
  библиотеках, а о~так называемом программном каркасе, или фреймфорке (англ. \eng{framework}).

  Далее описан выбор базового MVC-фреймворка, а так же библиотек для реализации
  конкретных особенностей уровней модели и представления.

  \paragraph{Базовый MVC-фреймворк.}
  Поскольку MVC выбрана в~качестве основной архитектуры для обеих программ, то особенно важным
  становится выбор библиотеки или фреймворка, отвечающих за реализацию этой модели в программном
  коде. Как было сказано выше, выбранный фреймворк будет влиять и накладывать свои ограничения и на
  структуру разрабатываемой программы. Именно поэтому особого внимания заслуживают свободные и
  кроссплатформенные библиотеки и фреймворки: их использование не требует дополнительных затрат на
  лицензию, открытый свободный код даёт больший контроль над возможностями библиотеки \cite{open-source},
  а кроссплатформенность исключает проблемы, которые могут впоследствии возникнуть при необходимости
  переноса программы на другую платформу.

  Среди имеющегося в~наши дни свободного кросплатформенных программного обеспечения для разработки
  графического интерфейса на языке C++ наиболее распространены библиотека GTK+ (сокращение от англ.
  \eng{GIMP ToolKit}) \cite{gtk} и фреймворк Qt (произносится <<кьют>>) \cite{qt}. В данной работе
  выбор сделан в~пользу Qt, поскольку этот фреймворк обладает следующими преимуществами.
  \begin{enumerate}
    \item Расширение языка C++, реализуемое с помощью \eng{Meta Object Compiler (MOC)}, который
      транслирует расширенный диалект C++ в стандартный C++.
    \item Мощная модель так называемых <<сигналов>> и <<слотов>>, позволяющая использовать
      событийно-ориентированное программирование, причём MOC обеспечивает лаконичный синтаксис их определения.
    \item Широкие возможности графического интерфейса с возможностью расширения стандартного набора
      элементов пользовательскими либо элементами из сторонних библиотек (рис.~\ref{fig:qt-creator}).
    \item Простота локализации приложения на новый язык благодаря инструменту \eng{Linguist},
      входящему в состав Qt.
  \end{enumerate}

  \includefigure[width=0.7\linewidth]{среда разработки Qt Creator в режиме визуального редактора.
    Видно большое разнообразие графических элементов, представление логической иерархии в виде
    дерева, а также редактор меню и сигналов-слотов.}{qt-creator}

  В данной работе используется последняя на момент её написания версия фрейворка Qt 5.0.2.

  С учётом выбора Qt в качестве базового фреймворка, необходимо выбрать совместимые с ним библиотеки
  для важных функций основной программы: получения данных по протоколу RS-232 через последовательный
  порт и визуализации полученных данных в виде графиков. Выбор этих библиотек будет описан далее.

  \paragraph{Библиотека для работы с последовательным портом.}
  На момент написания работы в широком доступе имелись две сторонних библиотеки для работы с
  последовательным портом средствами Qt: QtSerialPort \cite{qtserialport} и QextSerialPort \cite{qextserialport}.
  Первая, QtSerialPort, будучи изначально сторонней библиотекой, была принята разработчиками Qt и
  войдёт в его состав, что свидетельствует о качестве этой библиотеки. Однако вторая
  библиотека, QextSerialPort, имеет некоторые серьёзные преимущества перед ней: это давно и активно
  развивающийся проект, то есть он более надёжен; поддерживает широкий набор версий Qt от Qt2 до Qt5
  что исключает проблемы обратной совместимости; наконец, не имеет внешних зависимостей (в то время
  как для работы QtSerialPort необходим Perl). Всё это определяет выбор в~пользу QextSerialPort.
  В данной работе используется последняя стабильная версия на момент написания~--- QextSerialPort 1.2.

  \paragraph{Библиотека для построения графиков.}
  Для построения графиков в~графическом интерфейсе Qt имеются две основных альтернативы: QWT (англ.
  \eng{Qt Widgets for Technical Applications}) \cite{qwt} и QCustomPlot \cite{qcustomplot}.  Обе эти
  библиотеки беспрепятственно интегрируются с Qt-приложением и позволяют строить графики разных
  типов. При этом однозначными преимуществами QWT являются более широкий набор функций и
  возможностей конфигурации, подробная документация и более активная разработка и исправление
  ошибок: последняя версия на момент написания работы, 6.1.0~--- от 30 мая 2013 (против 9 июня 2012 в
  случае QCustomPlot). Поэтому в~данной работе используется QWT, а~именно, версия 6.1.0.

  \subsubsection{Инструментальная среда и разработка программного кода системы}

  \todo{написать раздел.}

  \subsubsection{Программа обработки накопленных данных}
  
  \todo{написать раздел.}

  \subsection{Тестирование и испытание системы}\label{ssec:testing}

  Для тестирования системы была разработана вспомогательная тестовая программа~--- генератор данных,
  во время тестирования заменяющий собой реальный измерительный прибор: в него загружаются данные из
  файла, а он передаёт их по последовательному порту, преобразуя к~тому виду, который они имели бы,
  если бы приходили с~реального прибора после оцифровки микроконтроллером.

  Генератор данных разрабатывался с~использованием тех же средств, что и основная программа:
  фреймворка Qt и библиотеки QextSerialPort, которые были описаны в подразделе~\ref{ssec:techno}.
  Внешний вид этой программы показан на рис.~\ref{fig:conserial}.

  \includefigure[width=0.4\textwidth]{Тестовая программа~--- генератор данных}{conserial}

  Процесс отладки во время разработки происходит следующим образом. На персональный компьютер,
  используемом при разработке, устанавливается эмулятор COM-порта, создающий два виртуальных порта
  ведущих себя так, как если бы они были соединены друг с другом кабелем. При помощи генератора
  данных данные передаются основной программе через этот виртуальный порт. Тем самым проверяется
  корректность реализации взаимодействия с последовательным портом и логики приложения, хотя и
  генератор данных, и основная программа физически находятся на одном компьютере.

  Для окончательного тестирования применяется реальное соединение. Два персональных компьютера
  соединяются нуль-модемным кабелем \cite{null-modem}, на одном из них запускается основная
  программа, на другом~--- генератор данных. После установления соединения в~генератор данных
  загружаются данные из файла, и он отправляет их через это соединение на другой компьютер, где их
  получает и отображает основная программа. В качестве данных использовались реальные данные с
  сейсмических датчиков, записанные на испытательном стенде для сейсмографов. Проведённое
  тестирование подтвердило корректность работы основной программы.

  \subsection{Результаты}

  Основная программа разработана и протестирована на реальных сигналах. Внешний вид программы
  представлен на рис.~\ref{fig:main}.
  \includefigure[width=0.7\textwidth]{основная программа}{main}

  Принцип работы пользователя с данной программой следующий. Для её работы необходимо подключить
  микроконтроллер, выполняющий оцифровку данных, при помощи последовательного порта к персональному
  компьютеру, на котором запускается основная программа. После запуска программы указывается порт,
  по которому выполнено подключение, после чего нажатием кнопки <<Подключить>> инициализируется
  процесс соединения с микроконтроллером и обмена командами. При успешном его завершении программа
  переходит в режим готовности к приёму данных, и становится доступной кнопка <<Запуск>>. При её нажатии
  программа отправляет микроконтроллеру команду, разрешающую передачу данных и начинает
  регистрировать получаемые данные. Зарегистрированные данные отображаются в~табличном и
  в~графическом виде: в~виде графика зависимости уровня сигнала от времени. По мере работы также
  отображается время начала приёма, прошедшее время и количество полученных данных. Приём данных
  прекращается кнопкой <<Стоп>>, также имеется возможность закрыть соединение с микроконтроллером
  нажатием кнопки <<Отключить>>, после чего программа переходит в изначальное состояние и работу с
  ней можно начинать с начала.

  Программа обработки накопленных данных разработана, также протестирована на данных реального
  сигнала. Было выяснено, что программа может открывать файлы объёмом вплоть до \num{100000} записей
  и рассчитывать для них статистику без серьёзного замедления в работе. Внешний вид программы
  показан на рис.~\ref{fig:stat}.
  \includefigure[width=0.6\textwidth]{программа обработки накопленных данных}{stat}

  Помимо использования вместе с основной программой, данная программа может найти применение при
  исследовании физических процессов, связанных с измерением физических параметров и эффективно
  проводить качественный и количественный анализ экспериментальных данных с оперативным изменением
  процесса измерения. В программе реализованы следующие функции: ввод экспериментальных данных с
  клавиатуры и из файла, редактирование введённых данных, расчёт среднего значения,
  среднеквадратичного отклонения, дисперсии и моментов, построение настраиваемой гистограммы и кривой
  данных, генерация отчёта с возможностью сохранения его в файл в формате HTML, а также сохранения
  графиков в виде изображения PNG. При открытии или создании нового файла программа рассчитывает все
  перечисленные величины, строит кривую данных и гистограмму. В дальнейшем, при каждом
  изменении данных пользователем эти величины пересчитываются, графики обновляются. Таким образом,
  имеется возможность вводить и обновлять данные об эксперименте и уже по мере ввода видеть
  изменение статистических значений, а по завершении ввода получить готовый ответ о среднем значении
  и его точности в виде $x \pm \Delta x$.

  Программа обработки накопленных данных была зарегистрирована в Реестре программ для ЭВМ в феврале 2013
  года. (Свидетельство о гос. регистрации программы №~2013612036, Программа ProcessData)
  %\section{Дальнейшая работа}

  \sectiontoc{Заключение}

  В данной работе ставилась цель разработать универсальную программную систему обработки экспериментальных данных,
  работающую в реальном времени и обеспечивающую помимо обработки точную синхронизацию по времени и
  визуализацию обрабатываемых данных. Эта цель была достигнута, и были удовлетворены поставленные в
  подразделе~\ref{ssec:task} требования, включая высокое быстродействие и гибкость, а~также применение
  параллельных вычислений.

  Проведено тестирование с использованием вместо реального измерительного прибора вспомогательной
  программы, передающей через последовательный порт тестовые данные. В качестве тестовых данных
  использовались реальные данные с сейсмических датчиков. Тестирование показало пригодность системы
  для реальных измерений.

  Была также разработана и зарегистрирована программа для статистической обработки накопленных
  данных, которая может быть использоваться и как часть системы, и отдельно от неё, например, при
  проведении лабораторных работ по физике.

  Также были исследованы возможности дальнейшего развития и улучшения системы. В частности,
  планируется расширение набора поддерживаемых протоколов для получения данных и добавление новых
  операций обработки данных, а также реализация синхронизации с~помощью GPS.

  Работа была представлена на заседании Студенческого научного общества физико-технического факультета
  КубГУ в апреле 2013 года и награждена дипломом третьей степени.

  \begin{flushleft}
    \bibliographystyle{../../biblio/ugost2003} % Или использовать ugost2008 для нового ГОСТа
    \bibliography{../../biblio/my}
  \end{flushleft}
\end{document}
